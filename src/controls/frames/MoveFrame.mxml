<?xml version="1.0" encoding="utf-8"?>
<!---
   @private
-->
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" implements="com.nz.IPlugin" width="256" height="192" 
	show="onShow()" verticalScrollPolicy="off">
	<!---@private-->
	<mx:Script>
		<![CDATA[
		import com.FileManage;
		import com.greensock.TweenLite;
		import com.nz.PluginsType;
		import com.nz.Transport;
		import controls.buttons.MoveButton;
		import flash.display.DisplayObject;
		import flash.events.MouseEvent;
		import mx.controls.Button;
			
		/**@private */
		public function get type():String
		{
			return "";
		}
		/**@private */
		public function set type(value:String):void
		{
		}
		/**@private */
		public function get content():DisplayObject
		{
			return this as DisplayObject;
		}
		/**@private */
		public function get pluginType():String
		{
			return PluginsType.CONTROL_DISPLAY_TYPE;
		}
		/**@private */
		public function init(xml:XML,blank:String=null):void
		{
			var ar:Array = Transport.Pro["Map"].getMoveList();
			btnArea.removeAllChildren();
			for (var i:int = 0; i < ar.length; i++) {
				var btn:MoveButton = new MoveButton();
				btn.thumb = ar[i].background;
				btn.label = ar[i].label;
				btn.y = 30 + 30 * i;
				btn.addEventListener(MouseEvent.ROLL_OVER, btn_roll_over);
				btn.addEventListener(MouseEvent.CLICK, switch_place);
				btnArea.addChild(btn);
			}
			thumb.source = FileManage.getResolvePath(ar[0].background);
		}
		
		private function switch_place(e:MouseEvent):void 
		{
			Transport.Pro["Map"].gotoPlace(e.currentTarget.label);
		}
		
		private function btn_roll_over(e:MouseEvent):void 
		{
			thumb.source = FileManage.getResolvePath(e.currentTarget.thumb);
		}
		private function onShow():void
		{
			TweenLite.from(this, 0.5, { alpha:0 } );
			for (var i:int = 0; i < btnArea.numChildren; i++) {
				btnArea.getChildAt(i).rotationY = -60;
				TweenLite.to(btnArea.getChildAt(i), 0.3, { delay:0.2 * i, rotationY:0 } );
			}
		}

		/**@private */
		public function close():void { };
		]]>
	</mx:Script>
	<mx:Image id="thumb" x="7" y="39" height="107" rotationY="-60" source="" />
	<mx:Canvas id="btnArea">
		
	</mx:Canvas>
</mx:Canvas>
